<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-icon
      class="arrow-back"
      name="chevron-back-outline"
      [routerLink]="globals.isEnterprise ? ['/login-options'] : ['/welcome-slide']"
      slot="start"
    >
    </ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="full-height">
    <ion-row class="full-height ion-align-items-center ion-justify-content-center">
      <ion-col sizeXs="10">
        <ion-grid>
          <ion-row>
            <ion-col class="ion-margin">
              <h1>{{ 'login.title' | translate }}</h1>
            </ion-col>
          </ion-row>
        </ion-grid>

        <form [formGroup]="authService.authForm" (ngSubmit)="onSubmitLogin()">
          <ion-item class="ion-margin" lines="none" *ngIf="type === 'employee'">
            <ion-label>
              <ion-icon slot="start" name="rocket-sharp"></ion-icon>
            </ion-label>
            <ion-input
              email
              placeholder="{{'login.company-email' | translate}}"
              class="input-mail"
              type="email"
              name="companyEmail"
              formControlName="companyEmail"
            >
            </ion-input>
            <ion-icon
              name="checkmark-circle-outline"
              color="success"
              *ngIf="authService.authForm.get('companyEmail').valid && authService.authForm.get('companyEmail').dirty"
            ></ion-icon>
            <ion-icon
              color="danger"
              *ngIf="authService.authForm.get('companyEmail').hasError('noExists') && authService.authForm.get('companyEmail').dirty"
              name="close-circle-outline"
            ></ion-icon>
          </ion-item>

          <ion-item class="ion-margin" lines="none">
            <ion-label>
              <ion-icon slot="start" name="at-circle-outline"></ion-icon>
              <ion-text>{{ 'login.email' | translate }}</ion-text>
            </ion-label>
            <ion-input email class="input-mail" type="email" name="email" formControlName="email">
            </ion-input>
          </ion-item>

          <ion-item class="ion-margin" lines="none">
            <ion-label>
              <ion-icon name="lock-closed-outline"></ion-icon>
              <ion-text>{{ 'login.password' | translate }}</ion-text>
            </ion-label>
            <ion-input
              password
              type="password"
              name="password"
              formControlName="password"
              minlength="6"
            >
            </ion-input>
          </ion-item>

          <ion-grid>
            <ion-row>
              <ion-col class="ion-text-end">
                <ion-button type="onSubmitLogin()"> {{ 'login.sign-in' | translate }} </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
