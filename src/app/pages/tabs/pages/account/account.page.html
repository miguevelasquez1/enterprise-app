<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title class="ion-text-center">{{ "profile.title" | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-list class="ion-margin-vertical">
    <div style="position: relative">
      <ion-item lines="none">
        <ion-spinner
          class="ion-margin ion-padding"
          *ngIf="!photoUrl; else avatar"
          color="tertiary"
          name="lines-small"
        ></ion-spinner>

        <ng-template template #avatar>
          <ion-avatar>
            <img
              class="photo"
              [src]="getImgContent()"
              width="80px"
              height="80px"
              alt="image account"
            />
          </ion-avatar>
        </ng-template>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-label class="user-name">
                <h2>{{name}}</h2>
              </ion-label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-label class="user-occupation"> {{occupation}} </ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </div>
  </ion-list>

  <ion-list class="ion-margin-top" mode="ios">
    <ion-item lines="none" [routerLink]="['/account/personal-data']">
      <ion-icon name="person-circle-sharp"></ion-icon>
      <ion-label>{{ 'profile.personal-data' | translate }}</ion-label>
    </ion-item>

    <ion-item lines="none" [routerLink]="['/account/settings']">
      <ion-icon name="settings-sharp"></ion-icon>
      <ion-label>{{ 'profile.settings' | translate }}</ion-label>
    </ion-item>

    <ion-item *ngIf="isAdmin" lines="none" [routerLink]="['/account/manage-company']">
      <ion-icon name="rocket-sharp"></ion-icon>
      <ion-label>{{ 'profile.manage-company' | translate }}</ion-label>
    </ion-item>
  </ion-list>
</ion-content>
